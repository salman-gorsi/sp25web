define(['jquery','underscore','slick'],function($,_){'use strict';var selector='[data-redbox-carousel]';var eventName='redbox.carousel.change';var isRTL=$(document.documentElement).css('direction')==='rtl';function init(){$(document).on(eventName,createCarousels);$(document.body).trigger(eventName);}
function createCarousels(e){_.each(findNewCarousels(e.target),createCarousel);}
function findAllCarousels(el){return $(el).find(selector);}
function findNewCarousels(el){return _.filter(findAllCarousels(el),_.negate(isCarouselInitialized));}
function createCarousel(el){if(isRTL){$(el).parent().attr("dir","rtl");}
$(el).slick({rtl:isRTL});}
function widget(config,el){config.rtl=isRTL;return $(el).slick(config);}
function isCarouselInitialized(el){return $(el).hasClass('slick-initialized');}
$(init);return widget;});