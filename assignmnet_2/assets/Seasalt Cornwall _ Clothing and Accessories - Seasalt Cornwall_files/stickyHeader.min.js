define(['jquery','matchMedia'],function($,mediaCheck){'use strict';$.widget('mage.stickyHeader',{options:{stickyClassName:'sticky',verticalScrollBreakpoint:100,stickyZIndex:900,headerClass:'.page-header',pageWrapper:'.page-wrapper'},headerBlock:null,headerBlockHeight:null,productMedia:$(".product.media"),_init:function(){const self=this;mediaCheck({media:"(min-width: 767px)",entry:function initStickyScroll(){self.stickyScroll();}});},addStickyHeader:function(){if(!this.isFixed()&&$(window).innerWidth()>767){this.getHeaderBlock().addClass(this.options.stickyClassName);this.addFakeHeader();}},removeStickHeader:function(){if(this.isFixed()&&$(window).innerWidth()>767){this.getHeaderBlock().removeClass(this.options.stickyClassName);this.removeFakeHeader();}},addFakeHeader:function(){var updatedheaderHeight=this.getHeaderBlock().outerHeight();var updatedHeight=updatedheaderHeight+25;this.productMedia.css('top',updatedHeight+'px');},removeFakeHeader:function(){this.productMedia.css('top','unset');},stickyScroll:function(){var self=this;$(window).scroll(function(){self.initStickyHeader();})},initStickyHeader:function(){var windowOffsetTop=$(window).scrollTop();var headerHeight=this.getHeaderBlock().outerHeight();if(windowOffsetTop>headerHeight){this.addStickyHeader();}else{this.removeStickHeader();}},isFixed:function(){return this.getHeaderBlock().hasClass(this.options.stickyClassName);},getHeaderBlock:function(){if(!this.headerBlock){this.headerBlock=$('body').find(this.options.headerClass);}
return this.headerBlock;}});return $.mage.stickyHeader;});