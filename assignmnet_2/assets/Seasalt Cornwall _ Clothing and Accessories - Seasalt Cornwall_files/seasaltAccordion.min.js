define(['jquery','collapsible','domReady!',],function($){'use strict';$.widget('mage.seasaltAccordion',{options:{accordionGroupTitle:'accordion-title',accordionGroupContent:'div',accordionArrowDownClass:'arrow-down',accordionArrowUpClass:'arrow-up'},_init:function(){this.initAccordion();},initAccordion:function(){if($('.seasalt-accordion').length){$('.seasalt-accordion [data-content-type="heading"]').each(function(index){$(this).addClass('accordion-title').add($(this).next('div')).wrapAll('<div class="seasalt-group" />');});$('.seasalt-accordion .accordion-title').each(function(index){$(this).add($(this).next('div')).wrapAll('<div class="seasalt-group" />');});$('.seasalt-group').collapsible({collapsible:true,header:'.'+this.options.accordionGroupTitle,content:this.options.accordionGroupContent,openedState:"active",animate:{duration:500,easing:"easeOutCubic"},icons:{"header":this.options.accordionArrowDownClass,"activeHeader":this.options.accordionArrowUpClass}});$('.seasalt-group').each(function(i){this.removeAttribute('role');this.querySelector('.accordion-title').setAttribute('role','button');this.querySelector('.accordion-title').setAttribute('aria-controls','dr'+i);this.querySelector('.accordion-title + div').setAttribute('id','dr'+i);this.querySelector('.accordion-title + div').removeAttribute('role');});}}});return $.mage.seasaltAccordion;});