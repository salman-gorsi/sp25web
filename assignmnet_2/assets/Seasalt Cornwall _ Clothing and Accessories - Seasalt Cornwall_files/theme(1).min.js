define(['jquery','matchMedia','mage/smart-keyboard-handler','mage/mage','mage/translate','collapsible','domReady!'],function($,mediaCheck){'use strict';var rbd=rbd||{};rbd.t={init:function(){this._nojs();this._touchDevice();this._formLabels();this._swipeClose();this._minicartScrollTopFix();},_nojs:function(){var e=$('body');if(e.hasClass('no-js')){e.removeClass('no-js');}},_touchDevice:function(){var mobile=false;var isAndroid=/(android)/i.test(navigator.userAgent);var isMobile=/(mobile)/i.test(navigator.userAgent);if(navigator.userAgent.match(/(iPod|iPhone|iPad)/)||isAndroid||isMobile){mobile=true;}else{mobile=false;}
this._addTouchClass(mobile);return mobile;},_addTouchClass:function(mobile){if(mobile==true){$('body').addClass('touch');};},_formLabels:function(){$('form :input:not(#search):not(#newsletter):not(#is_accepted):not(.qty):not([type="number"]):not(textarea)').each(function(index,elem){if($(elem).attr('placeholder')!==undefined){return;}
var eId=$(elem).attr("id");var label=null;if(eId&&(label=$(elem).parents("form").find("label[for='"+eId+"']")).length==1){if(eId==='dob'){$(elem).attr("placeholder",'DD/MM/YYYY');}else{$(elem).attr("placeholder",$.trim($(label).text()));}
$(label).addClass('hide');}});},_swipeClose:function(){if($(".block-content.filter-content .filter-options").length){$(".block-content.filter-content .filter-options").on('swipeleft',function(){$('#layered-filter-block .block-title.filter-title strong').click();})}},_minicartScrollTopFix:function(){if(!$('.catalog-product-view').length){return;}
var miniCart=$('[data-block=\'minicart\']'),scrollTop=0;miniCart.on('dropdowndialogopen',function(){scrollTop=$(document).scrollTop();});miniCart.on('dropdowndialogclose',function(){$(document).scrollTop(scrollTop);});},_globaleScript:function(view){var navNavigationFirstUl='header .panel.header';var geWaitForElement=function(selector,timeout){var start=new Date().getTime();timeout=timeout||(1000*60);var dfd=$.Deferred();if($(selector).length>0){dfd.resolve($(selector));}
else{var t=setInterval(function(){if($(selector).length>0){clearInterval(t);dfd.resolve($(selector));}
else if(new Date().getTime()-start>timeout){clearInterval(t);dfd.reject(selector);}},10);}
return dfd;};},_pageBuilderOverlayContent:function(){if(!$('.overlay-wrapper').length){var container=$('.overlay-content');container.each(function(element){var heading=$(this).find('[data-content-type=heading]');var text=$(this).find('div[data-content-type=text]');var button=$(this).find('div[data-content-type=buttons]');if(heading.length){$(heading).wrapAll("<div class='overlay-wrapper'></div>");$(this).find('.overlay-wrapper').append(text,button);}else{$(text).wrapAll("<div class='overlay-wrapper'></div>");$(this).find('.overlay-wrapper').append(button);}})}},checkoutMessages:function(){if($('.cart-table-wrap').length!=0){$('.cart-table-wrap').prepend($('.page.messages'));}else if($('.cart-save-for-later-inner').length!=0){$('.cart-save-for-later-inner').prepend($('.page.messages'));}},_mobileMenu:function(view){switch(view){case'mobile':$('.page-header .nav-sections').append('<div class="mobile-menu-footer"></div>');$('.footer-cols').clone().appendTo('.mobile-menu-footer');$('.mobile-menu-footer .footer-cols').find('.col:last-child').remove();$('.page-footer .footer-social .social').clone().insertAfter('.mobile-menu-footer .footer-cols');$('.mobile-copyright').clone().insertAfter('.mobile-menu-footer .social');$('.page-header .nav-sections').prepend('<div class="customer-actions"></div>');$('.header.links .custom-authorization-link').clone().appendTo('.customer-actions');break;case'desktop':$('.mobile-menu-footer').remove();$('.customer-actions').remove();}},_productWidgetCarousel:function(){setTimeout(function(){if($('.widget-product-grid').length){jQuery('.wide-carousel .widget-product-grid').slick({"slidesToShow":13,"slidesToScroll":13,"arrows":true,"dots":false,"respondTo":"slider","responsive":[{"breakpoint":1740,"settings":{"slidesToShow":11,"slidesToScroll":11}},{"breakpoint":1540,"settings":{"slidesToShow":10,"slidesToScroll":10}},{"breakpoint":1350,"settings":{"slidesToShow":9,"slidesToScroll":9}},{"breakpoint":1150,"settings":{"slidesToShow":8,"slidesToScroll":8}},{"breakpoint":970,"settings":{"slidesToShow":7,"slidesToScroll":7}},{"breakpoint":760,"settings":{"slidesToShow":7,"slidesToScroll":7}},{"breakpoint":670,"settings":{"slidesToShow":6,"slidesToScroll":6}},{"breakpoint":500,"settings":{"slidesToShow":3,"slidesToScroll":3}},{"breakpoint":400,"settings":{"slidesToShow":3,"slidesToScroll":3}},{"breakpoint":300,"settings":{"slidesToShow":3,"slidesToScroll":3}}]});}},1500);},_productCMSWidgetCarousel:function(){if($('.mobile-carousel-1').length){setTimeout(function(){jQuery('.mobile-carousel-1 .widget-product-grid').not('.slick-initialized').slick({"slidesToShow":1,"slidesToScroll":1,"arrows":true,"dots":true,"respondTo":"slider","mobileFirst":true,responsive:[{breakpoint:640,settings:"unslick"}]});},2000);}
if($('.mobile-carousel-2').length){setTimeout(function(){jQuery('.mobile-carousel-2 .widget-product-grid').not('.slick-initialized').slick({"slidesToShow":2,"slidesToScroll":2,"arrows":true,"dots":true,"respondTo":"slider","mobileFirst":true,responsive:[{breakpoint:640,settings:"unslick"}]});},2000);}}}
rbd.t.init();function handlePasswordVisibility(){const passwordVisibilityIcon=document.querySelector('.view-password-icon');const passwordInputContainer=document.querySelector('.can-view-password');const passwordInput=document.querySelector('.can-view-password input#password');if(!passwordVisibilityIcon)return;passwordVisibilityIcon.addEventListener('click',function(){if(passwordInput.getAttribute('type')==='password'){passwordInput.setAttribute('type','text')
passwordVisibilityIcon.setAttribute('src',passwordVisibilityIcon.dataset.srcVisible);}else{passwordInput.setAttribute('type','password');passwordVisibilityIcon.setAttribute('src',passwordVisibilityIcon.dataset.srcHidden);}
passwordInputContainer.classList.toggle('can-view-password--visible');})}
handlePasswordVisibility();mediaCheck({media:'(min-width: 768px)',entry:function mediaCheckDesktop(){rbd.t._productCMSWidgetCarousel();},exit:function mediaCheckMobile(){rbd.t._productCMSWidgetCarousel();}});mediaCheck({media:'(min-width: 640px)',entry:function mediaCheckDesktop(){rbd.t._pageBuilderOverlayContent();},exit:function mediaCheckMobile(){}});});