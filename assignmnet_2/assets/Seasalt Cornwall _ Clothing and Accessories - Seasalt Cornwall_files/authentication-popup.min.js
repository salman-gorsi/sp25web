define(['jquery','Magento_Customer/js/view/authentication-popup','Magento_Customer/js/action/login','mage/url'],function($,Component,loginAction,url){'use strict';return Component.extend({defaults:{template:'Globale_Integration/authentication-popup'},checkoutUrl:window.authenticationPopup.checkoutUrl,allowProceed:window.authenticationPopup.allowProceed,initialize:function(){this._super();},login:function(formUiElement,event){var loginData={},formElement=$(event.currentTarget),formDataArray=formElement.serializeArray();event.stopPropagation();formDataArray.forEach(function(entry){loginData[entry.name]=entry.value;});if(formElement.validation()&&formElement.validation('isValid')){this.isLoading(true);loginAction(loginData,url.build('checkout'));}
return false;}});});