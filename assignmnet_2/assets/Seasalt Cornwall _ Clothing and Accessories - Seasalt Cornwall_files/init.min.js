define(['jquery'],function($){'use strict';return function(config){var glCountry=getUrlParameter('glCountry',window.location);var glCurrency=getUrlParameter('glCurrency',window.location);var GetCookie=function(c_name,isJson){try{var c_value=document.cookie;var c_start=c_value.indexOf(" "+c_name+"=");if(c_start==-1){c_start=c_value.indexOf(c_name+"=");}
if(c_start==-1){c_value=null;}
else{c_start=c_value.indexOf("=",c_start)+1;var c_end=c_value.indexOf(";",c_start);if(c_end==-1){c_end=c_value.length;}
c_value=unescape(c_value.substring(c_start,c_end));}
if(isJson){return JSON.parse(c_value);}
return c_value;}
catch(ex){console.log('Unable to read GE cookie');}}
if(typeof BASE_URL!=='undefined'&&BASE_URL){var baseUrl=BASE_URL;}else{var baseUrl=config.baseUrl;}
var doAjaxCall=false;if(config.initAjax){var geData=GetCookie('GlobalE_Data',true);if(geData===null||!geData["countryISO"]){doAjaxCall=true;}}
if((glCountry&&glCurrency)||doAjaxCall){var data='';if(glCountry&&glCurrency){data='glCountry='+glCountry+'&glCurrency='+glCurrency;}
$.ajax({showLoader:true,url:baseUrl+'integration/init/index',data:data,type:"GET",dataType:'json',cache:false})}
function getUrlParameter(name,source){return decodeURIComponent((new RegExp('[?|&|#]'+name+'='+'([^&]+?)(&|#|;|$)').exec(source)||[,''])[1].replace(/\+/g,'%20'))||null;}}});