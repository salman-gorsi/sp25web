define(['jquery','mage/smart-keyboard-handler','Magento_Theme/js/theme/headerDropdown','mage/mage','mage/cookies','domReady!'],function($,keyboardHandler,headerDropdown){'use strict';if($('body').hasClass('checkout-cart-index')){if($('#co-shipping-method-form .fieldset.rates').length>0&&$('#co-shipping-method-form .fieldset.rates :checked').length===0){$('#block-shipping').on('collapsiblecreate',function(){$('#block-shipping').collapsible('forceActivate');});}}
$('body').on('click','.action.nav-toggle',function(){setTimeout(function(){if($('html').hasClass('nav-open')){if(!$('.icon-cross.mobile-menu-close').length){$('body').append('<span class="icon-cross mobile-menu-close"></span>')}}},500);});var _input=$('input'),_cookieBar=$('.cookie-location')
if($(window).innerWidth()<768){_input.on('focus',function(){_cookieBar.addClass('no-display');})
_input.focusout(function(){_cookieBar.removeClass('no-display');});}
$('header').attr('role','banner');$('nav').attr('role','navigation');$('main').attr('role','main');$('footer').attr('role','contentinfo');keyboardHandler.apply();var isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);var safariVersion=parseFloat((''+(/version\/(\d+)/i.exec(navigator.userAgent)||[])[1])||'');if(isSafari&&safariVersion<14){document.documentElement.className+=' safari-less-than-14';}
window.addEventListener('load',function(){headerDropdown.init();});let slideIndex=0;if($('#uk-nav-slider-container').length||$('#ie-nav-slider-container').length){showSlides();}
function showSlides(){let i;const slides=document.getElementsByClassName("nav-slide");for(i=0;i<slides.length;i++){slides[i].style.display="none";}
slideIndex++;if(slideIndex>slides.length){slideIndex=1;}
slides[slideIndex-1].style.display="block";setTimeout(showSlides,5000);}
const deskBanner=document.querySelector('.delivery-bar-wrapper');const mobBanner=document.querySelector('.nav-slider-container');const closeButMob=document.createElement('div');closeButMob.classList.add("nav-slider-close");const closeButDesk=closeButMob.cloneNode(true);if($('.delivery-bar-wrapper').length&&$('.nav-slider-container').length){bannerInit();hiddenBanner();}
function bannerInit(){mobBanner.appendChild(closeButMob);deskBanner.appendChild(closeButDesk);closeButMob.addEventListener('click',closeBanner);closeButDesk.addEventListener('click',closeBanner);}
function closeBanner(){$.mage.cookies.set('delivery-banner-hide','delivery-banner-hidden',{lifetime:60*60*24*30});mobBanner.classList.remove("nav-slider-show");deskBanner.classList.remove("nav-slider-show");document.body.classList.remove("top-banner-active");}
function hiddenBanner(){let cookie=$.mage.cookies.get('delivery-banner-hide');if(cookie==null){mobBanner.classList.add("nav-slider-show");deskBanner.classList.add("nav-slider-show");document.body.classList.add("top-banner-active");}else{mobBanner.classList.remove("nav-slider-show");deskBanner.classList.remove("nav-slider-show");}}});