define(['jquery','uiComponent','Magento_Customer/js/customer-data','Magento_Theme/js/theme/headerDropdown',],function($,Component,customerData,headerDropdown){'use strict';return function(target){return target.extend({isCustomerLoggedIn:function(){var customer=customerData.get('customer')
return!!(customer()&&customer().logged_in)},redirectToCartPage:function(shoppingCartUrl,event){event.preventDefault();if(shoppingCartUrl){window.location.href=shoppingCartUrl;}},closeMinicartDropdown:function(data,event){event.preventDefault();event.stopImmediatePropagation();const minicartWrapper=document.querySelector('.nav.item.minicart-wrapper');if(!minicartWrapper){return;}
this.handleMinicartCloseEvent(minicartWrapper);},handleMinicartCloseEvent:function(minicartWrapper){if(headerDropdown.isMobile()){minicartWrapper.classList.remove('active');}else{const dropdown=minicartWrapper.querySelector('.menu-dropdown');this.simulateMouseLeave(dropdown);}},simulateMouseLeave:function(element){const mouseLeaveEvent=new MouseEvent('mouseleave',{bubbles:true,cancelable:true,view:window});element.dispatchEvent(mouseLeaveEvent);},});};});